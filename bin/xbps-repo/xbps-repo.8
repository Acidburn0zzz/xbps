.TH "XBPS\-REPO" "8" "17/10/2011" "\ \&" "\ \&"
.\" -----------------------------------------------------------------
.\" * set default formatting
.\" -----------------------------------------------------------------
.\" disable hyphenation
.nh
.\" disable justification (adjust text to left margin only)
.ad l
.\" -----------------------------------------------------------------
.\" * MAIN CONTENT STARTS HERE *
.\" -----------------------------------------------------------------
.SH "NAME"
xbps-repo \- XBPS command for binary package repositories
.SH "SYNOPSIS"
.sp
\fBxbps\-repo\fR [\fIoptions\fR] \fItarget\fR [\fIarguments\fR]
.SH "DESCRIPTION"
.sp
The xbps\-repo(8) command is used to handle local or remote binary package repositories in the \fBXBPS binary package system\fR\&. You can use it to create a package index for a local repository, list repositories, search for packages and show information about a binary package in repository pool\&.
.SH "OPTIONS"
.PP
\fB\-C\fR \fIconfdir\fR
.RS 4
Full path to the XBPS configuration directory where the configuration files are available\&. 
By default it\(cqs set to \fIETCDIR/xbps\fR\&.
.RE
.PP
\fB\-c\fR \fIcachedir\fR
.RS 4
Sets the
\fIcache\fR
directory to store downloaded binary packages from remote repositories\&. By default it\(cqs set to
\fI/var/cache/xbps\fR\&.
.RE
.PP
\fB\-d\fR
.RS 4
Enables extra debugging output to be shown to stderr.
.RE
.PP
\fB\-r\fR \fIrootdir\fR
.RS 4
Sets the
\fIroot\fR
directory\&. By default the root directory is set to
\fI/\fR\&. Please note that the database directory is always set to
\fI/var/db/xbps\fR
independently of
\fIrootdir\fR\&. So if you use a
\fIrootdir\fR
of
\fI/blah\fR, metadata stuff will go into
\fI/blah/var/db/xbps\fR\&.
.RE
.PP
\fB\-V\fR
.RS 4
Shows the current XBPS, API and INDEX versions\&.
.RE
.SH "TARGETS"
.sp
Please note that all targets are \fBcase insensitive\fR\&.
.PP
\fBfind\-files\fR \fIpattern\fR
.RS 4
Prints the name for any package registered in the repository pool, that owns
the file matched by \fIpattern\fR\&. Exact matches and wildcards can be
specified\&. Please note that this will look in all packages registered
from all repositories currently registered, so if packages are not in \fIcachedir\fR
it will have to connect remotely to the repository to fetch the information
\fIon the fly\fR.
.RE
.PP
\fBgenindex\fR \fI/path/to/local/repo\fR
.RS 4
Generates a package index for a local repository as specified in its argument\&.
It will look for archives with
\fB\&.xbps\fR
extension and will only add it into the index if version is newer than the one
available in the index\&. If a newer package is available, the old package file
will be removed automatically\&.
.RE
.PP
\fBlist\fR
.RS 4
Lists all working repositories in repository pool\&.
.RE
.PP
\fBsearch\fR \fIpattern\fR
.RS 4
Search for packages containing the shell
\fIpattern\fR
(see fnmatch(3)) in its
\fBpkgname\fR
or
\fBdescription\fR
values in repository pool\&. Please note that patterns are matched in case
insensitive mode.
.RE
.PP
\fBshow \fR\fB\fIpkgname\fR\fR
.RS 4
Shows information about binary package
\fIpkgname\fR\&. This will print the size it takes in filesystem, description, maintainer, architecture and other information\&. The first repository in the pool wins\&.
.RE
.PP
\fBshow\-deps \fR\fB\fIpkgname\fR\fR
.RS 4
Shows run time dependencies for binary package
\fIpkgname\fR\&. The first repository in the pool wins\&.
.RE
.PP
\fBshow\-files \fR\fB\fIpkgname\fR\fR
.RS 4
Shows the file list for a binary package
\fIpkgname\fR
by searching it in repository pool\&. The first repository in the pool wins\&.
\fBNOTE: if a remote repository is the winner and binary package is not available in \fR\fBcachedir\fR\fB, it will fetch remotely and \fR\fB\fIon\-the\-fly\fR\fR\fB the info\fR\& from target repository.
.RE
.PP
\fBsync\fR
.RS 4
Syncs the package index file for all registered remote repositories\&. The new file will be fetched if local and remote size/mtime do not match\&.
.RE
.SH "FILES"
.PP
\fB/etc/xbps/conf.plist\fR
.RS 4
Default XBPS configuration file\&.
.RE
.PP
\fB/etc/xbps/repositories.plist\fR
.RS 4
Default XBPS repositories configuration file\&.
.RE
.PP
\fB/var/db/xbps/<remoterepodir>/pkg\-index\&.plist\fR
.RS 4
Remote repository package index file\&.
.RE
.PP
\fB/var/cache/xbps\fR
.RS 4
xbps
\fIcache\fR
directory for downloaded binary packages\&.
.RE
.SH "BUGS"
.sp
Probably, but I try to make this not happen\&. Use it under your own responsability and enjoy your life\&.
.sp
Report bugs in \fIhttp://code\&.google\&.com/p/xbps\fR\&.
.SH "SEE ALSO"
.sp
xbps\-bin(8)
.sp
The XBPS project: \fIhttp://code\&.google\&.com/p/xbps\fR
.SH "AUTHORS"
.sp
\fBXBPS\fR has been designed and implemented by Juan Romero Pardines <xtraeme@gmail\&.com>\&.
