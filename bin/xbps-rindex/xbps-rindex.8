.Dd January 9, 2014
.Os Void Linux
.Dt xbps-rindex 8
.Sh NAME
.Nm xbps-rindex
.Nd XBPS utility to manage local binary package repositories
.Sh SYNOPSYS
.Nm xbps-rindex
.Op OPTIONS
.Ar MODE
.Op ARGUMENTS
.Sh DESCRIPTION
The
.Nm
utility creates, updates and removes obsolete binary packages stored
in local repositories.
.Sh OPTIONS
.Bl -tag -width -x
.It Fl f -force
Forcefully register binary package into the local repository, overwriting existing entry.
This flag is only useful with the
.Em add
mode.
.It Fl h -help
Show the help usage.
.It Fl V -version
Show the XBPS version.
.It Sy --signedby Ar string
This is required to sign a repository, a description of the person signing the repository, i.e name and email.
.It Sy --privkey Ar key
Path to the private RSA key to sign the repository. If unset, defaults to
.Sy ~/.ssh/id_rsa .
.Sh MODE
.Pp
.Bl -tag -width x
.It Sy -a, --add Ar repository/binpkg.xbps ...
Registers the binary package into the local repository. The specified binary
package is only added to the index if its version is greater than the one
currently stored. Multiple binary packages can be specified as arguments.
.It Sy -c, --clean Ar repository
Removes obsolete entries found in the local repository.
.It Sy -r, --remove-obsoletes Ar repository
Removes obsolete packages from
.Ar repository .
Packages that are not currently registered in repository's index will
be removed (out of date, invalid archives, etc).
.It Sy -s, --sign Ar repository
Signs a repository with your specified RSA key. If
.Fl --privkey
argument not set, it defaults to
.Sy ~/.ssh/id_rsa .
.Sh ENVIRONMENT
.Bl -tag -width XBPS_TARGET_ARCH
.It Sy XBPS_ARCH
Overrides
.Xr uname 2
machine result with this value. Useful to install packages with a fake
architecture.
.It Sy XBPS_TARGET_ARCH
Sets the target architecture to this value. This variable differs from
.Sy XBPS_ARCH
in that it allows you to install packages partially, because
configuration phase is skipped (the target binaries might not be compatible with
the native architecture).
.It Sy XBPS_PASSPHRASE
If this is set, it will use this passphrase for the RSA private key when signing
a repository. Otherwise it will ask you to enter the passphrase on the terminal.
.Sh SEE ALSO
.Xr xbps-create 8 ,
.Xr xbps-dgraph 8 ,
.Xr xbps-install 8 ,
.Xr xbps-pkgdb 8 ,
.Xr xbps-query 8 ,
.Xr xbps-reconfigure 8 ,
.Xr xbps-remove 8
.Sh AUTHORS
.An Juan Romero Pardines <xtraeme@gmail.com>
.Sh BUGS
Probably, but I try to make this not happen. Use it under your own
responsability and enjoy your life.
.Pp
Report bugs in https://github.com/voidlinux/xbps/issues
